<!DOCTYPE html>
<html lang = 'en'>
    <head>
        <meta charset = 'utf-8'/>
        <link rel = 'stylesheet' href = 'styles.css'>
        <title>Kaitlyn Vesterby Lab 4</title>
    </head>
    <body>
        <div class = 'container' >
        <form action = '/api' method = 'post' >
            <h1>Kaitlyn Vesterby's Lab 4</h1>
            <ul class = 'flex-outer'>
                <li>
                    <label for = 'fname'>First Name</label>
                    <input type = 'text' id = 'fname' name = 'fname' placeholder = 
                        'Enter your first name here'>
                </li>
                <li>
                    <label for = 'lname'>Last Name</label>
                    <input type = 'text' id = 'lname' name = 'lname' placeholder = 
                        'Enter your last name here'>
                </li>
                <li>
                    <label for = 'email'>Email</label>
                    <input type = 'email' id = 'email' name = 'email' placeholder = 
                        'Enter your email here'>
                </li>
                <li>
                    <label for = 'phone'>Phone</label>
                    <input type = "tel" id = "phone" name = 'phone' placeholder = 
                        'Enter your phone here'>
                </li>
                <li>
                    <label for = 'message'>Message</label>
                    <textarea rows = '5' cols = '33' id = 'message' name = 'message' placeholder = 
                        'Enter your message here'></textarea>
                </li>
                <li>
                    <p>Age</p>
                    <ul class = 'flex-inner'>
                        <li>
                            <input type = 'checkbox' name = 'age' id = 'eightteen-to-twentyfive'>
                            <label for = 'eightteen-to-twentyfive'>18-25</label>
                        </li>
                        <li>
                            <input type = 'checkbox' name = 'age' id = 'thirtyfive-to-fifty'>
                            <label for = 'thirtyfive-to-fifty'>35-50</label>
                        </li>
                        <li>
                            <input type = 'checkbox' name = 'age' id = 'fifty-to-sixtyfive'>
                            <label for = 'fifty-to-sixtyfive'>50-65</label>
                        </li>
                        
                    </ul>
                </li>
                <li>
                    <button type = 'submit' id = 'button' name = 'button' formmethod = 'post'>Submit</button>
                    <label for = 'button'></label>
                </li>
            </ul>
            
            
        </form>
        <script>
            app.route('/api') 
        .get(async(req, res) => { 
            console.log('GET request detected')
        res.send('GET request called'); 
        const data = await fetch('https://data.princegeorgescountymd.gov/resource/umjn-t2iz.json')
        const json = await data.json();
        console.log('data from fetch', json)
        res.json(json)
        }) 
        .post(async(req, res) => { 
            console.log('POST request detected')
            console.log('Form data in res.body', req.body)
            console.log('Now send something back to your client')
            res.json('Hello World'); 
        }) 
        app.listen(port, async () => {
            console.log(`Example app listening on port ${port}`)
        })
        liveReloadServer.server.once('connection', () => {
            setTimeout( () => {
                liveReloadServer.refresh('/')
            }, 100)
        })
        </script>
        
        </div>

    </body>
</html>

<!--note that label is used to associate a text label with a form control-->